<!-- 
    é“¾æ¥ï¼šhttps://juejin.im/post/5d5df391e51d453b1e478ad0
æ¥æºï¼šæ˜é‡‘
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>å°†canvaså›¾ç‰‡è½¬ä¸ºä¸‹è½½çš„å›¾ç‰‡çš„url</title>
    <script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <script>
        $(function () {
            const notice = new Notification("å‰ç«¯å®‡å®™æƒ…æŠ¥å±€", {
                body: "è¿™20ä¸ªä¸å¸¸ç”¨çš„Web APIçœŸçš„æœ‰ç”¨å—?ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯æœ‰ç”¨ğŸˆ¶",
                icon: "æˆ‘çš„æ˜é‡‘å¤´åƒ",
                data: {
                    url: "https://www.baidu.com"
                }
            });


            // ç‚¹å‡»å›è°ƒ
            notice.onclick = () => {
                window.open(notice.data.url); // å½“ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ—¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ç™¾åº¦ç½‘ç«™
            }

            Notification.requestPermission(prem => {
                prem == "granted" // åŒæ„
                // prem == "denied" // æ‹’ç»
            })

            let permission = Notification.permission;

            if (permission == "granted") {
                // å·²åŒæ„ï¼Œå¼€å§‹å‘é€é€šçŸ¥
                alert("å·²åŒæ„ï¼Œå¼€å§‹å‘é€é€šçŸ¥");
            } else if (permission == "denied") {
                // ä¸åŒæ„ï¼Œå‘ä¸äº†å’¯
                alert("åŒæ„ï¼Œå‘ä¸äº†å’¯");
            } else {
                alert("å…¶ä»–çŠ¶æ€ï¼Œå¯ä»¥é‡æ–°å‘é€æˆæƒæç¤º");
                // å…¶ä»–çŠ¶æ€ï¼Œå¯ä»¥é‡æ–°å‘é€æˆæƒæç¤º
                Notification.requestPermission();
            }

        })
    </script>

</head>

<body>


</body>

</html>